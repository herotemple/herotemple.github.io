{"version":3,"sources":["webpack:///src/components/page/sales.vue","webpack:///./src/components/page/sales.vue?b072","webpack:///./src/components/page/sales.vue"],"names":["sales","data","salesData","mounted","this","fetchSalesData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","$http","get","sent","map","item","extends_default","total","parseFloat","number","price","toFixed","drawSalesPieChart","t0","console","error","stop","chart","echarts","document","getElementById","option","title","text","left","textStyle","color","fontSize","fontWeight","tooltip","trigger","formatter","series","name","type","radius","center","value","parseInt","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","setOption","page_sales","render","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","stripe","prop","label","_v","height","margin-top","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qLAsBAA,cACAC,KADA,WAEA,OACAC,eAGAC,QANA,WAOAC,KAAAC,kBAEAC,SACAD,eADA,WACA,IAAAE,EAAAH,KAAA,OAAAI,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEAV,EAAAW,MAAAC,IAAA,iBAFA,OAEAN,EAFAE,EAAAK,KAGAb,EAAAL,UAAAW,EAAAZ,KAAAoB,IAAA,SAAAC,GAAA,OAAAC,OACAD,GACAE,OAAAC,WAAAH,EAAAI,QAAAD,WAAAH,EAAAK,QAAAC,QAAA,OAEArB,EAAAsB,oBAPAd,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAe,GAAAf,EAAA,SASAgB,QAAAC,MAAA,YAAAjB,EAAAe,IATA,yBAAAf,EAAAkB,SAAArB,EAAAL,IAAA,SAAAC,IAYAqB,kBAbA,WAcA,IAAAK,EAAAC,EAAA,KAAAC,SAAAC,eAAA,kBACAC,GACAC,OACAC,KAAA,SACAC,KAAA,SACAC,WAAAC,MAAA,OAAAC,SAAA,GAAAC,WAAA,SAEAC,SACAC,QAAA,OACAC,UAAA,6BAEAC,SAEAC,KAAA,OACAC,KAAA,MACAC,OAAA,MACAC,QAAA,aACApD,KAAAG,KAAAF,UAAAmB,IAAA,SAAAC,GAAA,OAAAgC,MAAAC,SAAAjC,EAAAI,QAAAwB,KAAA5B,EAAA4B,QACAM,UACAC,WAAAC,WAAA,GAAAC,cAAA,EAAAC,YAAA,0BAKA1B,EAAA2B,UAAAvB,OClEewB,GADEC,OAFjB,WAA0B,IAAaC,EAAb5D,KAAa6D,eAA0BC,EAAvC9D,KAAuC+D,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,YAAiBG,aAAaC,MAAA,OAAcC,OAAQtE,KAA1MG,KAA0MF,UAAAsE,OAAA,MAAkCN,EAAA,mBAAwBK,OAAOE,KAAA,OAAAC,MAAA,OAAAJ,MAAA,SAA3QlE,KAAuTuE,GAAA,KAAAT,EAAA,mBAAoCK,OAAOE,KAAA,SAAAC,MAAA,OAAAJ,MAAA,SAAlWlE,KAAgZuE,GAAA,KAAAT,EAAA,mBAAoCK,OAAOE,KAAA,QAAAC,MAAA,SAAAJ,MAAA,SAA3blE,KAA0euE,GAAA,KAAAT,EAAA,mBAAoCK,OAAOE,KAAA,QAAAC,MAAA,WAAAJ,MAAA,SAArhBlE,KAAskBuE,GAAA,KAAAT,EAAA,mBAAoCK,OAAOE,KAAA,OAAAC,MAAA,OAAAJ,MAAA,UAA4C,OAA7pBlE,KAA6pBuE,GAAA,KAAAT,EAAA,OAAgCG,aAAaC,MAAA,OAAAM,OAAA,QAAAC,aAAA,QAAoDN,OAAQO,GAAA,sBAE/wBC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElF,EACA8D,GATF,EAVA,SAAAqB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/18.a713b5446ade247beceb.js","sourcesContent":["<template>\n  <div class=\"sales-container\">\n    <!-- 商品销售表格 -->\n    <div class=\"table-wrapper\">\n      <el-table :data=\"salesData\" stripe style=\"width: 90%\">\n        <el-table-column prop=\"name\" label=\"商品名称\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"number\" label=\"销售数量\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"price\" label=\"单价 (元)\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"total\" label=\"销售金额 (元)\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"date\" label=\"销售日期\" width=\"180\"></el-table-column>\n      </el-table>\n    </div>\n\n    <!-- 销售饼图 -->\n    <div id=\"salesPieChart\" style=\"width: 100%; height: 400px; margin-top: 20px;\"></div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      salesData: [],\n    };\n  },\n  mounted() {\n    this.fetchSalesData();\n  },\n  methods: {\n    async fetchSalesData() {\n      try {\n        const response = await this.$http.get('/product/sale');\n        this.salesData = response.data.map(item => ({\n          ...item,\n          total: (parseFloat(item.number) * parseFloat(item.price)).toFixed(2), // 计算销售金额\n        }));\n        this.drawSalesPieChart();\n      } catch (error) {\n        console.error('获取销售数据失败:', error);\n      }\n    },\n    drawSalesPieChart() {\n      const chart = echarts.init(document.getElementById('salesPieChart'));\n      const option = {\n        title: {\n          text: '商品销售分布',\n          left: 'center',\n          textStyle: { color: '#333', fontSize: 18, fontWeight: 'bold' },\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)',\n        },\n        series: [\n          {\n            name: '销售数量',\n            type: 'pie',\n            radius: '55%',\n            center: ['50%', '60%'],\n            data: this.salesData.map(item => ({ value: parseInt(item.number), name: item.name })),\n            emphasis: {\n              itemStyle: { shadowBlur: 10, shadowOffsetX: 0, shadowColor: 'rgba(0, 0, 0, 0.5)' },\n            },\n          },\n        ],\n      };\n      chart.setOption(option);\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n.sales-container {\n  padding: 20px;\n  background-color: #ffffff;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.table-wrapper {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.el-table {\n  width: 80%;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n#salesPieChart {\n  background: #fafafa;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/sales.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sales-container\"},[_c('div',{staticClass:\"table-wrapper\"},[_c('el-table',{staticStyle:{\"width\":\"90%\"},attrs:{\"data\":_vm.salesData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"销售数量\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"单价 (元)\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"total\",\"label\":\"销售金额 (元)\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"销售日期\",\"width\":\"180\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"400px\",\"margin-top\":\"20px\"},attrs:{\"id\":\"salesPieChart\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34e0e22e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/sales.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34e0e22e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sales.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sales.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sales.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34e0e22e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sales.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-34e0e22e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/sales.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}