webpackJsonp([19],{"10lu":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),s=a("exGp"),i=a.n(s),c=a("XLwt"),u=(a("mtWM"),{data:function(){return{yearData:[]}},mounted:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchYearData();case 2:t.drawSunburstChart(),t.drawFunnelChart();case 4:case"end":return e.stop()}},e,t)}))()},methods:{fetchYearData:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/census/year");case 3:a=e.sent,t.yearData=a.data.map(function(t){return{year:t.name,value:parseInt(t.content)}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("获取年度数据失败:",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},drawSunburstChart:function(){this.yearData.length&&c.init(document.getElementById("sunburstChart")).setOption({title:{text:"年度数据层次分析",left:"center"},series:[{type:"sunburst",data:[{name:"2015-2017",children:this.yearData.slice(0,3)},{name:"2018-2020",children:this.yearData.slice(3,6)},{name:"2021-2024",children:this.yearData.slice(6,10)}],radius:["20%","90%"],label:{show:!0}}]})},drawFunnelChart:function(){this.yearData.length&&c.init(document.getElementById("funnelChart")).setOption({title:{text:"年度趋势分析",left:"center"},series:[{type:"funnel",data:this.yearData.map(function(t){return{name:t.year,value:t.value}}).reverse(),label:{show:!0,position:"inside"}}]})}}}),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"year-statistics"},[e("h2",[this._v("2015-2024年 年度统计")]),this._v(" "),e("div",{staticClass:"chart",attrs:{id:"sunburstChart"}}),this._v(" "),e("div",{staticClass:"chart",attrs:{id:"funnelChart"}})])}]};var l=a("VU/8")(u,h,!1,function(t){a("Y4JV")},"data-v-282ba74a",null);e.default=l.exports},Y4JV:function(t,e){}});
//# sourceMappingURL=19.942205a55439d68ba240.js.map