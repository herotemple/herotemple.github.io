webpackJsonp([24],{CE58:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),a=i.n(o),s={name:"Storage",data:function(){return{storageList:[],dialogVisible:!1,formLabelWidth:"100px",form:{id:null,code:"",name:"",capacity:0,description:""},isEdit:!1}},created:function(){this.fetchStorageList()},methods:{fetchStorageList:function(){var t=this;this.$http.get("/storage/list").then(function(e){t.storageList=e.data}).catch(function(){t.$message.error("获取仓储位信息失败")})},openAddDialog:function(){this.isEdit=!1,this.form={id:null,code:"",name:"",capacity:0,description:""},this.dialogVisible=!0},openEditDialog:function(t){this.isEdit=!0,this.form=a()({},t),this.dialogVisible=!0},saveStorage:function(){var t=this;this.$http.post("/storage/save",this.form).then(function(){t.$message.success(t.isEdit?"修改成功":"新增成功"),t.dialogVisible=!1,t.fetchStorageList()}).catch(function(){t.$message.error(t.isEdit?"修改失败":"新增失败")})},confirmDelete:function(t){var e=this;this.$confirm("确定要删除该仓储位吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteStorage(t)}).catch(function(){})},deleteStorage:function(t){var e=this;this.$http.delete("/storage/delete/"+t).then(function(){e.$message.success("删除成功"),e.fetchStorageList()}).catch(function(){e.$message.error("删除失败")})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"storage-container"},[i("header",{staticClass:"storage-header"},[i("h2",[t._v("仓储位置信息管理")]),t._v(" "),i("button",{staticClass:"btn-add",on:{click:t.openAddDialog}},[t._v("新增仓储位")])]),t._v(" "),i("section",{staticClass:"storage-list"},[i("table",{staticClass:"storage-table"},[t._m(0),t._v(" "),i("tbody",t._l(t.storageList,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.code))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.capacity))]),t._v(" "),i("td",[t._v(t._s(e.description))]),t._v(" "),i("td",[i("button",{staticClass:"btn-edit",on:{click:function(i){return t.openEditDialog(e)}}},[t._v("编辑")]),t._v(" "),i("button",{staticClass:"btn-delete",on:{click:function(i){return t.confirmDelete(e.id)}}},[t._v("删除")])])])}),0)])]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,title:"仓储位信息",width:"450px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"位置编号","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"位置名称","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"容量","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:0},model:{value:t.form.capacity,callback:function(e){t.$set(t.form,"capacity",e)},expression:"form.capacity"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveStorage}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("位置编号")]),t._v(" "),i("th",[t._v("位置名称")]),t._v(" "),i("th",[t._v("容量(立方米)")]),t._v(" "),i("th",[t._v("描述")]),t._v(" "),i("th",[t._v("操作")])])])}]};var r=i("VU/8")(s,n,!1,function(t){i("hVS+")},"data-v-0fff304f",null);e.default=r.exports},"hVS+":function(t,e){}});
//# sourceMappingURL=24.e76f7156ea69c9026e42.js.map