webpackJsonp([7],{F0ey:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t("Dd8w"),l=t.n(s),n={name:"Supplier",data:function(){return{suppliers:[],dialogVisible:!1,dialogTitle:"æ–°å¢ä¾›è´§å•†",supplierForm:{id:null,suppliername:"",phone:"",address:""},actionType:"add"}},methods:{fetchSuppliers:function(){var e=this;this.$http.post("/supplier/query").then(function(i){Array.isArray(i.data)&&(e.suppliers=i.data)})},openDialog:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dialogTitle="add"===e?"æ–°å¢ä¾›è´§å•†":"ç¼–è¾‘ä¾›è´§å•†",this.actionType=e,this.supplierForm="edit"===e?l()({},i):{id:null,suppliername:"",phone:"",address:""},this.dialogVisible=!0},handleSubmit:function(){var e=this,i="add"===this.actionType?"/supplier/add":"/supplier/update?id="+this.supplierForm.id,t={suppliername:this.supplierForm.suppliername,phone:this.supplierForm.phone,address:this.supplierForm.address};this.$http.post(i,t,{headers:{"Content-Type":"application/json"}}).then(function(){e.dialogVisible=!1,e.fetchSuppliers()})},handleAction:function(e,i){var t=this;"edit"===e?this.openDialog("edit",i):"delete"===e&&this.$confirm('ç¡®å®šè¦åˆ é™¤ "'+i.suppliername+'" å—ï¼Ÿ',"æç¤º",{type:"warning"}).then(function(){t.$http.post("/supplier/delete",i,{headers:{"Content-Type":"application/json"}}).then(function(){return t.fetchSuppliers()})})}},mounted:function(){this.fetchSuppliers()}},o={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"supplier-container"},[t("h2",{staticClass:"page-title"},[e._v("ğŸ“¦ ä¾›è´§å•†ç®¡ç†")]),e._v(" "),t("div",{staticClass:"add-btn-container"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium"},on:{click:function(i){return e.openDialog("add")}}},[e._v("\n      æ–°å¢ä¾›è´§å•†\n    ")])],1),e._v(" "),t("div",{staticClass:"supplier-grid"},e._l(e.suppliers,function(i){return t("el-card",{key:i.id,staticClass:"supplier-card"},[t("div",{staticClass:"card-header"},[t("h3",[e._v(e._s(i.suppliername))]),e._v(" "),t("el-dropdown",{on:{command:function(t){return e.handleAction(t,i)}}},[t("el-button",{attrs:{icon:"el-icon-more",circle:""}}),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"edit"}},[e._v("âœï¸ ç¼–è¾‘")]),e._v(" "),t("el-dropdown-item",{attrs:{command:"delete",divided:""}},[e._v("ğŸ—‘ï¸ åˆ é™¤")])],1)],1)],1),e._v(" "),t("p",[t("i",{staticClass:"el-icon-phone"}),e._v(" "+e._s(i.phone))]),e._v(" "),t("p",[t("i",{staticClass:"el-icon-location"}),e._v(" "+e._s(i.address))])])}),1),e._v(" "),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"450px"},on:{"update:visible":function(i){e.dialogVisible=i}}},[t("el-form",{attrs:{model:e.supplierForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"åç§°"}},[t("el-input",{model:{value:e.supplierForm.suppliername,callback:function(i){e.$set(e.supplierForm,"suppliername",i)},expression:"supplierForm.suppliername"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"è”ç³»æ–¹å¼"}},[t("el-input",{model:{value:e.supplierForm.phone,callback:function(i){e.$set(e.supplierForm,"phone",i)},expression:"supplierForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"åœ°å€"}},[t("el-input",{model:{value:e.supplierForm.address,callback:function(i){e.$set(e.supplierForm,"address",i)},expression:"supplierForm.address"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.dialogVisible=!1}}},[e._v("å–æ¶ˆ")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("ç¡®è®¤")])],1)],1)],1)},staticRenderFns:[]};var r=t("VU/8")(n,o,!1,function(e){t("klZW")},"data-v-e93e9e84",null);i.default=r.exports},klZW:function(e,i){}});
//# sourceMappingURL=7.50f8338fb3b98a157219.js.map