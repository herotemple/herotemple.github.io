webpackJsonp([18],{SzXA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),n=a("Dd8w"),i=a.n(n),l=a("exGp"),o=a.n(l),c=a("XLwt"),p=(a("mtWM"),{data:function(){return{salesData:[]}},mounted:function(){this.fetchSalesData()},methods:{fetchSalesData:function(){var t=this;return o()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/product/sale");case 3:a=e.sent,t.salesData=a.data.map(function(t){return i()({},t,{total:(parseFloat(t.number)*parseFloat(t.price)).toFixed(2)})}),t.drawSalesPieChart(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("获取销售数据失败:",e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},drawSalesPieChart:function(){var t=c.init(document.getElementById("salesPieChart")),e={title:{text:"商品销售分布",left:"center",textStyle:{color:"#333",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"销售数量",type:"pie",radius:"55%",center:["50%","60%"],data:this.salesData.map(function(t){return{value:parseInt(t.number),name:t.name}}),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)}}}),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sales-container"},[e("div",{staticClass:"table-wrapper"},[e("el-table",{staticStyle:{width:"90%"},attrs:{data:this.salesData,stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"number",label:"销售数量",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"price",label:"单价 (元)",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"total",label:"销售金额 (元)",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"date",label:"销售日期",width:"180"}})],1)],1),this._v(" "),e("div",{staticStyle:{width:"100%",height:"400px","margin-top":"20px"},attrs:{id:"salesPieChart"}})])},staticRenderFns:[]};var d=a("VU/8")(p,u,!1,function(t){a("Z27k")},"data-v-34e0e22e",null);e.default=d.exports},Z27k:function(t,e){}});
//# sourceMappingURL=18.a713b5446ade247beceb.js.map