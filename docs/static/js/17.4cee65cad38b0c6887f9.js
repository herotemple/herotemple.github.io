webpackJsonp([17],{"IH/G":function(e,t){},tP5Z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),o=a.n(l),r={name:"ScanRecord",data:function(){return{tableData:[],dialogVisible:!1,form:{id:null,sampleId:"",scanTime:"",device:"",operator:"",remarks:""}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.$http.get("/scan/list").then(function(t){200===t.data.code?e.tableData=t.data.data:e.$message.error("数据加载失败")})},openDialog:function(){this.form={id:null,sampleId:"",scanTime:"",device:"",operator:"",remarks:""},this.dialogVisible=!0},editRecord:function(e){this.form=o()({},e),this.dialogVisible=!0},saveRecord:function(){var e=this,t=null!=this.form.id,a=t?"/scan/update":"/scan/add",l=t?"put":"post";this.$http[l](a,this.form).then(function(t){200===t.data.code?(e.dialogVisible=!1,e.loadData(),e.$message.success(t.data.message||"操作成功")):e.$message.error(t.data.message||"操作失败")})},deleteRecord:function(e){var t=this;this.$confirm("确认删除该记录吗？","提示",{type:"warning"}).then(function(){t.$http.delete("/scan/delete/"+e).then(function(e){200===e.data.code?(t.loadData(),t.$message.success("删除成功")):t.$message.error("删除失败")})})},handleDialogClose:function(){this.dialogVisible=!1}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.openDialog}},[e._v("新增记录")])],1),e._v(" "),a("el-table",{attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sampleId",label:"样本编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scanTime",label:"扫描时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device",label:"设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",label:"操作员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.editRecord(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteRecord(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"60%",top:"15vh","custom-class":"my-dialog"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleDialogClose},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveRecord}},[e._v("保存")])]},proxy:!0}])},[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"样本编号"}},[a("el-input",{attrs:{placeholder:"如 CS-001"},model:{value:e.form.sampleId,callback:function(t){e.$set(e.form,"sampleId",t)},expression:"form.sampleId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"扫描时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime"},model:{value:e.form.scanTime,callback:function(t){e.$set(e.form,"scanTime",t)},expression:"form.scanTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备"}},[a("el-input",{model:{value:e.form.device,callback:function(t){e.$set(e.form,"device",t)},expression:"form.device"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作员"}},[a("el-input",{model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(r,i,!1,function(e){a("IH/G")},"data-v-506481ea",null);t.default=s.exports}});
//# sourceMappingURL=17.4cee65cad38b0c6887f9.js.map