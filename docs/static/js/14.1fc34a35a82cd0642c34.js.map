{"version":3,"sources":["webpack:///src/components/page/mineral.vue","webpack:///./src/components/page/mineral.vue?83d7","webpack:///./src/components/page/mineral.vue"],"names":["mineral","data","minerals","sampleNames","selectedSample","created","this","fetchMineralData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","url","res","samples","wrap","_context","prev","next","encodeURIComponent","$http","get","sent","set_default","map","item","sampleName","from_default","t0","$message","error","stop","page_mineral","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","_v","staticStyle","width","margin-bottom","placeholder","clearable","on","change","model","value","callback","$$v","expression","_l","sample","key","label","stripe","prop","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mNAwBAA,GACAC,KADA,WAEA,OACAC,YACAC,eACAC,eAAA,OAGAC,QARA,WASAC,KAAAC,oBAEAC,SAEAD,iBAFA,WAEA,IAAAE,EAAAH,KAAA,OAAAI,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEAL,EAAA,oBACAN,EAAAL,iBACAW,EAAA,uBAAAO,mBAAAb,EAAAL,iBAJAe,EAAAE,KAAA,EAMAZ,EAAAc,MAAAC,IAAAT,GANA,OAMAC,EANAG,EAAAM,KAOAhB,EAAAP,SAAAc,EAAAf,KAGAQ,EAAAL,iBACAa,EAAA,IAAAS,EAAAd,EAAAI,EAAAf,KAAA0B,IAAA,SAAAC,GAAA,OAAAA,EAAAC,cACApB,EAAAN,YAAA2B,IAAAb,IAZAE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAeAV,EAAAuB,SAAAC,MAAA,YAfA,yBAAAd,EAAAe,SAAApB,EAAAL,IAAA,UAAAC,MClCeyB,GADEC,OAFjB,WAA0B,IAAAC,EAAA/B,KAAagC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,wBAAkCF,EAAA,WAAgBE,YAAA,iBAAAC,OAAoCC,OAAA,WAAkBJ,EAAA,MAAAH,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAA0DM,aAAaC,MAAA,QAAAC,gBAAA,QAAuCL,OAAQM,YAAA,OAAAC,UAAA,IAAoCC,IAAKC,OAAAf,EAAA9B,kBAA8B8C,OAAQC,MAAAjB,EAAA,eAAAkB,SAAA,SAAAC,GAAoDnB,EAAAjC,eAAAoD,GAAuBC,WAAA,mBAA8BpB,EAAAqB,GAAArB,EAAA,qBAAAsB,GAA2C,OAAAnB,EAAA,aAAuBoB,IAAAD,EAAAhB,OAAkBkB,MAAAF,EAAAL,MAAAK,OAAiC,GAAAtB,EAAAQ,GAAA,KAAAL,EAAA,YAAgCM,aAAaC,MAAA,QAAeJ,OAAQ1C,KAAAoC,EAAAnC,SAAA4D,OAAA,MAAiCtB,EAAA,mBAAwBG,OAAOoB,KAAA,cAAAF,MAAA,OAAAd,MAAA,SAAmDV,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOoB,KAAA,aAAAF,MAAA,QAAAd,MAAA,SAAmDV,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOoB,KAAA,SAAAF,MAAA,SAA8B,YAEl8BG,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnE,EACAmC,GATF,EAVA,SAAAiC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/14.1fc34a35a82cd0642c34.js","sourcesContent":["<template>\n  <div class=\"mineral-composition\">\n    <el-card shadow=\"hover\" class=\"card-container\">\n      <h2>矿物组成分析</h2>\n      <el-select\n        v-model=\"selectedSample\"\n        placeholder=\"选择样品\"\n        clearable\n        @change=\"fetchMineralData\"\n        style=\"width: 240px; margin-bottom: 20px\"\n      >\n        <el-option v-for=\"sample in sampleNames\" :key=\"sample\" :label=\"sample\" :value=\"sample\" />\n      </el-select>\n\n      <el-table :data=\"minerals\" stripe style=\"width: 100%\">\n        <el-table-column prop=\"mineralName\" label=\"矿物名称\" width=\"180\" />\n        <el-table-column prop=\"percentage\" label=\"含量(%)\" width=\"120\" />\n        <el-table-column prop=\"remark\" label=\"备注\" />\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      minerals: [],\n      sampleNames: [],\n      selectedSample: null,\n    };\n  },\n  created() {\n    this.fetchMineralData();\n  },\n  methods: {\n    // 先获取全部数据，提取样品名称\n    async fetchMineralData() {\n      try {\n        let url = \"/api/mineral/list\";\n        if (this.selectedSample) {\n          url = `/api/mineral/sample/${encodeURIComponent(this.selectedSample)}`;\n        }\n        const res = await this.$http.get(url);\n        this.minerals = res.data;\n\n        // 更新样品名称列表（只在没选样品时更新）\n        if (!this.selectedSample) {\n          const samples = new Set(res.data.map((item) => item.sampleName));\n          this.sampleNames = Array.from(samples);\n        }\n      } catch (error) {\n        this.$message.error(\"加载矿物数据失败\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card-container {\n  max-width: 900px;\n  margin: 40px auto;\n  padding: 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/mineral.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mineral-composition\"},[_c('el-card',{staticClass:\"card-container\",attrs:{\"shadow\":\"hover\"}},[_c('h2',[_vm._v(\"矿物组成分析\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"240px\",\"margin-bottom\":\"20px\"},attrs:{\"placeholder\":\"选择样品\",\"clearable\":\"\"},on:{\"change\":_vm.fetchMineralData},model:{value:(_vm.selectedSample),callback:function ($$v) {_vm.selectedSample=$$v},expression:\"selectedSample\"}},_vm._l((_vm.sampleNames),function(sample){return _c('el-option',{key:sample,attrs:{\"label\":sample,\"value\":sample}})}),1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.minerals,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"mineralName\",\"label\":\"矿物名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"percentage\",\"label\":\"含量(%)\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ce5520a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/mineral.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ce5520a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mineral.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mineral.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mineral.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ce5520a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mineral.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ce5520a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/mineral.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}