{"version":3,"sources":["webpack:///src/components/page/coresection.vue","webpack:///./src/components/page/coresection.vue?4a2f","webpack:///./src/components/page/coresection.vue","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/babel-runtime/core-js/object/entries.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/babel-runtime/core-js/object/values.js","webpack:///./node_modules/core-js/library/modules/es7.object.entries.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/object/entries.js"],"names":["coresection","name","data","searchKeyword","dialogVisible","dialogTitle","sectionForm","sectionId","coreId","startDepth","endDepth","sectionType","recordDate","description","allSections","currentPage","sectionList","computed","filteredSections","keyword","this","trim","filter","item","includes","mounted","fetchSections","methods","_this","$http","get","params","then","res","changePage","renderChart","catch","$message","error","page","start","slice","openAddDialog","editSection","row","extends_default","deleteSection","id","_this2","$confirm","type","delete","success","saveSection","_this3","post","chartDom","document","getElementById","myChart","echarts","typeCount","forEach","s","option","title","text","left","tooltip","radar","center","indicator","entries_default","map","_ref","_ref2","slicedToArray_default","max","Math","apply","toConsumableArray_default","values_default","shape","splitNumber","textStyle","color","fontSize","splitLine","lineStyle","splitArea","areaStyle","series","value","width","itemStyle","setOption","page_coresection","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","size","clearable","on","input","scopedSlots","_u","key","fn","proxy","model","callback","$$v","expression","_v","icon","click","stripe","border","header-cell-class-name","prop","label","scope","$event","layout","page-size","total","length","background","current-change","staticStyle","height","margin-top","visible","update:visible","label-width","$set","value-format","rows","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","classof","ITERATOR","Iterators","module","exports","isIterable","it","O","Object","undefined","hasOwnProperty","values","default","__esModule","_isIterable3","_interopRequireDefault","_getIterator3","obj","arr","i","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","TypeError","$export","$values","S","$entries","entries","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","keys","result","call"],"mappings":"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","file":"static/js/2.c1e2f784252218b34eee.js","sourcesContent":["<template>\n  <div class=\"core-section-container\">\n    <!-- 顶部工具栏 -->\n    <div class=\"top-bar\">\n      <el-input\n        v-model=\"searchKeyword\"\n        placeholder=\"输入段编号或样本ID\"\n        size=\"medium\"\n        class=\"search-input\"\n        clearable\n        @input=\"fetchSections\"\n      >\n        <template #prefix>\n          <span class=\"icon-wrapper\">\n            <i class=\"el-icon-search\"></i>\n          </span>\n        </template>\n      </el-input>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"medium\" @click=\"openAddDialog\">添加岩心段</el-button>\n    </div>\n\n    <!-- 表格 -->\n    <el-table\n      :data=\"sectionList\"\n      stripe\n      border\n      class=\"core-table\"\n      header-cell-class-name=\"table-header\"\n    >\n      <el-table-column prop=\"sectionId\" label=\"段编号\" width=\"120\" />\n      <el-table-column prop=\"coreId\" label=\"样本ID\" width=\"100\" />\n      <el-table-column prop=\"startDepth\" label=\"起始深度/m\" />\n      <el-table-column prop=\"endDepth\" label=\"结束深度/m\" />\n      <el-table-column prop=\"sectionType\" label=\"段类型\" />\n      <el-table-column prop=\"recordDate\" label=\"记录日期\" />\n      <el-table-column prop=\"description\" label=\"段描述\" />\n      <el-table-column label=\"操作\" width=\"180\">\n        <template v-slot=\"scope\">\n          <el-button size=\"mini\" @click=\"editSection(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteSection(scope.row.sectionId)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        :page-size=\"5\"\n        :total=\"filteredSections.length\"\n        @current-change=\"changePage\"\n        background\n      />\n    </div>\n\n    <!-- 图表展示 -->\n    <div id=\"sectionChart\" style=\"height: 400px; margin-top: 30px;\"></div>\n\n    <!-- 弹窗 -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"500px\">\n      <el-form :model=\"sectionForm\" label-width=\"100px\">\n        <el-form-item label=\"段编号\">\n          <el-input v-model=\"sectionForm.sectionId\" />\n        </el-form-item>\n        <el-form-item label=\"样本ID\">\n          <el-input v-model=\"sectionForm.coreId\" />\n        </el-form-item>\n        <el-form-item label=\"起始深度\">\n          <el-input v-model=\"sectionForm.startDepth\" type=\"number\" />\n        </el-form-item>\n        <el-form-item label=\"结束深度\">\n          <el-input v-model=\"sectionForm.endDepth\" type=\"number\" />\n        </el-form-item>\n        <el-form-item label=\"段类型\">\n          <el-select v-model=\"sectionForm.sectionType\" placeholder=\"请选择\">\n            <el-option label=\"砂岩\" value=\"砂岩\" />\n            <el-option label=\"页岩\" value=\"页岩\" />\n            <el-option label=\"灰岩\" value=\"灰岩\" />\n            <el-option label=\"其他\" value=\"其他\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"记录日期\">\n          <el-date-picker\n            v-model=\"sectionForm.recordDate\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"yyyy-MM-dd\"\n          />\n        </el-form-item>\n        <el-form-item label=\"段描述\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"sectionForm.description\"\n            :rows=\"3\"\n            placeholder=\"请输入段描述\"\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveSection\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\n\nexport default {\n  name: \"CoreSection\",\n  data() {\n    return {\n      searchKeyword: \"\",\n      dialogVisible: false,\n      dialogTitle: \"添加岩心段\",\n      sectionForm: {\n        sectionId: \"\",\n        coreId: \"\",\n        startDepth: \"\",\n        endDepth: \"\",\n        sectionType: \"\",\n        recordDate: \"\",\n        description: \"\" // 新增字段\n      },\n      allSections: [],\n      currentPage: 1,\n      sectionList: []\n    };\n  },\n  computed: {\n    filteredSections() {\n      const keyword = this.searchKeyword.trim();\n      if (!keyword) return this.allSections;\n      return this.allSections.filter(item =>\n        item.sectionId.includes(keyword) || item.coreId.includes(keyword)\n      );\n    }\n  },\n  mounted() {\n    this.fetchSections();\n  },\n  methods: {\n    fetchSections() {\n      this.$http.get(\"/section/list\", {\n        params: { keyword: this.searchKeyword }\n      })\n        .then(res => {\n          this.allSections = res.data;\n          this.changePage(1);\n          this.renderChart();\n        })\n        .catch(() => this.$message.error(\"获取数据失败\"));\n    },\n    changePage(page) {\n      this.currentPage = page;\n      const start = (page - 1) * 5;\n      this.sectionList = this.filteredSections.slice(start, start + 5);\n    },\n    openAddDialog() {\n      this.dialogTitle = \"添加岩心段\";\n      this.sectionForm = {\n        sectionId: \"\",\n        coreId: \"\",\n        startDepth: \"\",\n        endDepth: \"\",\n        sectionType: \"\",\n        recordDate: \"\",\n        description: \"\" // 初始化新增字段\n      };\n      this.dialogVisible = true;\n    },\n    editSection(row) {\n      this.dialogTitle = \"编辑岩心段\";\n      this.sectionForm = { ...row };\n      this.dialogVisible = true;\n    },\n    deleteSection(id) {\n      this.$confirm(\"确定删除该岩心段？\", \"提示\", { type: \"warning\" }).then(() => {\n        this.$http.delete(`/section/delete/${id}`)\n          .then(() => {\n            this.$message.success(\"删除成功\");\n            this.fetchSections();\n          })\n          .catch(() => this.$message.error(\"删除失败\"));\n      });\n    },\n    saveSection() {\n      this.$http.post(\"/section/save\", this.sectionForm)\n        .then(() => {\n          this.$message.success(\"保存成功\");\n          this.dialogVisible = false;\n          this.fetchSections();\n        })\n        .catch(() => this.$message.error(\"保存失败\"));\n    },\n    renderChart() {\n      const chartDom = document.getElementById(\"sectionChart\");\n      if (!chartDom) return;\n      const myChart = echarts.init(chartDom);\n\n      const typeCount = {};\n      this.allSections.forEach(s => {\n        typeCount[s.sectionType] = (typeCount[s.sectionType] || 0) + 1;\n      });\n\n      // 雷达图指标配置\n      const indicators = Object.entries(typeCount).map(([type, count]) => ({\n        name: type,\n        max: Math.max(...Object.values(typeCount)) + 1 // 最大值比最大数量大1，方便显示\n      }));\n\n      const dataValues = Object.values(typeCount);\n\n      const option = {\n        title: { text: \"岩心段类型分布\", left: \"center\" },\n        tooltip: {},\n        radar: {\n          center: ['50%', '60%'],\n          indicator: indicators,\n          shape: 'circle',\n          splitNumber: 5,\n          name: {\n            textStyle: {\n              color: '#333',\n              fontSize: 14\n            }\n          },\n          splitLine: {\n            lineStyle: {\n              color: ['#ccc']\n            }\n          },\n          splitArea: {\n            areaStyle: {\n              color: ['#f7f6f3', 'transparent']\n            }\n          }\n        },\n        series: [{\n          name: '段类型数量',\n          type: 'radar',\n          data: [\n            {\n              value: dataValues,\n              name: '数量分布',\n              areaStyle: {\n                color: 'rgba(160, 132, 92, 0.5)'\n              },\n              lineStyle: {\n                color: '#a0845c',\n                width: 2\n              },\n              itemStyle: {\n                color: '#a0845c'\n              }\n            }\n          ]\n        }]\n      };\n      myChart.setOption(option);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.core-section-container {\n  background: #f7f6f3;\n  padding: 20px;\n  border-radius: 10px;\n}\n\n.top-bar {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.search-input .icon-wrapper {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.search-input{\n  width: 300px;\n}\n\n.core-table {\n  background: #ffffff;\n  border-radius: 6px;\n}\n\n.table-header {\n  background-color: #a0845c !important;\n  color: white !important;\n  font-weight: bold;\n}\n\n.pagination-container {\n  margin-top: 10px;\n  text-align: right;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/coresection.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"core-section-container\"},[_c('div',{staticClass:\"top-bar\"},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"输入段编号或样本ID\",\"size\":\"medium\",\"clearable\":\"\"},on:{\"input\":_vm.fetchSections},scopedSlots:_vm._u([{key:\"prefix\",fn:function(){return [_c('span',{staticClass:\"icon-wrapper\"},[_c('i',{staticClass:\"el-icon-search\"})])]},proxy:true}]),model:{value:(_vm.searchKeyword),callback:function ($$v) {_vm.searchKeyword=$$v},expression:\"searchKeyword\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},on:{\"click\":_vm.openAddDialog}},[_vm._v(\"添加岩心段\")])],1),_vm._v(\" \"),_c('el-table',{staticClass:\"core-table\",attrs:{\"data\":_vm.sectionList,\"stripe\":\"\",\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"sectionId\",\"label\":\"段编号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"coreId\",\"label\":\"样本ID\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startDepth\",\"label\":\"起始深度/m\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endDepth\",\"label\":\"结束深度/m\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sectionType\",\"label\":\"段类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"recordDate\",\"label\":\"记录日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"段描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editSection(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteSection(scope.row.sectionId)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":5,\"total\":_vm.filteredSections.length,\"background\":\"\"},on:{\"current-change\":_vm.changePage}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"400px\",\"margin-top\":\"30px\"},attrs:{\"id\":\"sectionChart\"}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveSection}},[_vm._v(\"保存\")])]},proxy:true}])},[_c('el-form',{attrs:{\"model\":_vm.sectionForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"段编号\"}},[_c('el-input',{model:{value:(_vm.sectionForm.sectionId),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"sectionId\", $$v)},expression:\"sectionForm.sectionId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"样本ID\"}},[_c('el-input',{model:{value:(_vm.sectionForm.coreId),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"coreId\", $$v)},expression:\"sectionForm.coreId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"起始深度\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.sectionForm.startDepth),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"startDepth\", $$v)},expression:\"sectionForm.startDepth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束深度\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.sectionForm.endDepth),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"endDepth\", $$v)},expression:\"sectionForm.endDepth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"段类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.sectionForm.sectionType),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"sectionType\", $$v)},expression:\"sectionForm.sectionType\"}},[_c('el-option',{attrs:{\"label\":\"砂岩\",\"value\":\"砂岩\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"页岩\",\"value\":\"页岩\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"灰岩\",\"value\":\"灰岩\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"其他\",\"value\":\"其他\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"记录日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.sectionForm.recordDate),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"recordDate\", $$v)},expression:\"sectionForm.recordDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"段描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入段描述\"},model:{value:(_vm.sectionForm.description),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"description\", $$v)},expression:\"sectionForm.description\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47a16256\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/coresection.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47a16256\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./coresection.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coresection.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coresection.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47a16256\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./coresection.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47a16256\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/coresection.vue\n// module id = null\n// module chunks = ","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 5PlU\n// module chunks = 2 4","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/values.js\n// module id = TmV0\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/object/entries\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/entries.js\n// module id = W3Iv\n// module chunks = 2 4","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = Xd32\n// module chunks = 2 4","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = d7EF\n// module chunks = 2 4","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.object.values.js\n// module id = fZOM\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/values.js\n// module id = gRE1\n// module chunks = 2","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.object.entries.js\n// module id = gSvA\n// module chunks = 2 4","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-to-array.js\n// module id = mbce\n// module chunks = 2 4","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = us/S\n// module chunks = 2 4","require('../../modules/es7.object.entries');\nmodule.exports = require('../../modules/_core').Object.entries;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/entries.js\n// module id = wEtr\n// module chunks = 2 4"],"sourceRoot":""}